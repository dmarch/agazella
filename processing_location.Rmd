---
title: "Processing of location data"
output:
  html_document:
    df_print: paged
---



# Load functions

```{r}
source("scr/fun_data_processing.R")
```



# Prepare data

Import data processed by Lluis Cardona. This data contains habitat classification using Google Earth imagery (1=land;2=water;3=ice), and has been filtered by time after deployment date. Note this is not the raw data from Sirtrack.

```{r}
file <- "data/TelemetriaPPT.xlsx"
df <- read_agazella(file)  # takes time
table(df$ptt)
```


# Reestructure data

Next steps of processing are conducted at an individual level. Therefore, it is more covinient to store separate files for each animal. We will create a separate folder for each one, where we will keep all the derived outputs.






# Filter data

Filtering data remove duplicate time stamps, Argos location classes Z, unrealistic speeds







# Visualize data

```{r}
library(move)
# convert to move object
mdata <- move(x=df$lon, y=df$lat, time=df$date, 
                  data=df, proj=CRS("+proj=longlat +ellps=WGS84"), 
                  animal=df$ptt)
```

